# 个人项目管理系统 - 0基础用户部署指南

## 📋 前置准备清单

### 必需账户和工具
- [ ] 阿里云账户（需要实名认证）
- [ ] GitHub账户
- [ ] 本地已安装Node.js（版本18+）
- [ ] 本地已安装Git
- [ ] 一个代码编辑器（推荐VS Code）

---

## 🚀 第一步：阿里云服务配置

### 1.1 注册阿里云账户
1. 访问 [阿里云官网](https://www.aliyun.com/)
2. 点击右上角「免费注册」
3. 使用手机号完成注册
4. **重要**：完成实名认证（个人认证即可）
5. 建议开通「按量付费」模式

### 1.2 创建AccessKey（重要安全步骤）
1. 登录阿里云控制台
2. 鼠标悬停右上角头像，选择「AccessKey管理」
3. 点击「创建AccessKey」
4. **安全提示**：立即复制并保存以下信息到安全位置：
   ```
   AccessKey ID: LTAI5t...(示例)
   AccessKey Secret: 3yX9Z...(示例)
   ```
5. **切记**：不要将这些信息分享给任何人或提交到代码仓库

### 1.3 开通RDS MySQL数据库
1. 在阿里云控制台搜索「RDS」
2. 点击「创建实例」
3. 选择配置：
   - **数据库类型**：MySQL
   - **版本**：8.0
   - **规格**：通用型 1核1GB（测试够用）
   - **存储空间**：20GB SSD
   - **网络类型**：专有网络VPC
   - **付费类型**：按量付费
4. 设置数据库信息：
   - **实例名称**：project-management-db
   - **管理员账号**：root
   - **密码**：设置一个强密码（至少8位，包含大小写字母和数字）
5. 点击「立即购买」
6. 等待实例创建完成（约5-10分钟）

### 1.4 配置RDS数据库访问
1. 进入RDS实例详情页
2. 点击左侧「数据安全性」→「白名单设置」
3. 点击「修改」，添加你的本地IP地址：
   - 访问 [whatismyipaddress.com](https://whatismyipaddress.com/) 查看你的公网IP
   - 将IP地址添加到白名单（格式：xxx.xxx.xxx.xxx/32）
4. 记录数据库连接信息：
   ```
   数据库地址：rm-xxxxx.mysql.rds.aliyuncs.com
   端口：3306
   数据库名：project_management
   用户名：root
   密码：你设置的密码
   ```

### 1.5 开通OSS对象存储
1. 在控制台搜索「OSS」
2. 点击「立即开通」
3. 创建Bucket：
   - **Bucket名称**：project-files-[你的用户名]（必须全局唯一）
   - **地域**：选择离你最近的地域（如华东1-杭州）
   - **存储类型**：标准存储
   - **读写权限**：私有
4. 记录OSS信息：
   ```
   Bucket名称：project-files-xxx
   地域节点：oss-cn-hangzhou.aliyuncs.com
   ```

### 1.6 开通短信服务（可选）
1. 搜索「短信服务」并开通
2. 申请签名和模板（需要审核，可暂时跳过）

---

## 🔧 第二步：本地项目配置

### 2.1 克隆项目到本地
1. 打开命令行工具（Windows用户按Win+R，输入cmd）
2. 导航到你想存放项目的文件夹：
   ```bash
   cd Desktop
   ```
3. 克隆项目：
   ```bash
   git clone https://github.com/你的用户名/个人项目管理系统.git
   cd 个人项目管理系统
   ```

### 2.2 安装项目依赖
```bash
npm install
```

### 2.3 配置环境变量
1. 在项目根目录创建 `.env` 文件
2. 复制以下内容并填入你的真实信息：

```bash
# 阿里云基础配置
VITE_ALIYUN_ACCESS_KEY_ID=你的AccessKey_ID
VITE_ALIYUN_ACCESS_KEY_SECRET=你的AccessKey_Secret
VITE_ALIYUN_REGION=cn-hangzhou

# 阿里云RDS数据库配置
VITE_ALIYUN_RDS_HOST=你的RDS地址
VITE_ALIYUN_RDS_PORT=3306
VITE_ALIYUN_RDS_DATABASE=project_management
VITE_ALIYUN_RDS_USERNAME=root
VITE_ALIYUN_RDS_PASSWORD=你的数据库密码

# 阿里云OSS配置
VITE_ALIYUN_OSS_BUCKET=你的Bucket名称
VITE_ALIYUN_OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com

# 阿里云短信服务配置（可选）
VITE_ALIYUN_SMS_SIGN_NAME=你的短信签名
VITE_ALIYUN_SMS_TEMPLATE_CODE=你的模板代码
```

**重要安全提示**：
- 确保 `.env` 文件已添加到 `.gitignore` 中
- 不要将包含真实密钥的 `.env` 文件提交到GitHub

---

## 🗄️ 第三步：初始化数据库

### 3.1 连接数据库
1. 下载数据库管理工具（推荐 [MySQL Workbench](https://dev.mysql.com/downloads/workbench/)）
2. 创建新连接：
   - **连接名**：项目管理系统
   - **主机名**：你的RDS地址
   - **端口**：3306
   - **用户名**：root
   - **密码**：你的数据库密码
3. 测试连接成功

### 3.2 执行建表脚本
1. 在MySQL Workbench中打开新的SQL标签
2. 复制技术架构文档中的完整建表脚本
3. 执行脚本创建所有表和初始数据
4. 验证表创建成功：
   ```sql
   SHOW TABLES;
   SELECT * FROM users;
   ```

---

## 🐙 第四步：GitHub集成配置

### 4.1 创建GitHub仓库
1. 登录 [GitHub](https://github.com)
2. 点击右上角「+」→「New repository」
3. 填写仓库信息：
   - **Repository name**：personal-project-management
   - **Description**：个人项目管理系统
   - **Visibility**：Private（推荐）或Public
4. 点击「Create repository」

### 4.2 配置本地Git
1. 打开命令行，配置Git用户信息：
   ```bash
   git config --global user.name "你的真实姓名"
   git config --global user.email "你的邮箱@example.com"
   ```
   
   **具体示例**：
   ```bash
   git config --global user.name "张三"
   git config --global user.email "zhangsan@gmail.com"
   ```

2. 验证配置：
   ```bash
   git config --global user.name
   git config --global user.email
   ```

### 4.3 推送代码到GitHub
1. 在项目目录中执行：
   ```bash
   git remote add origin https://github.com/你的用户名/personal-project-management.git
   git branch -M main
   git add .
   git commit -m "初始化项目"
   git push -u origin main
   ```

### 4.4 配置GitHub Actions自动部署
1. 在GitHub仓库中，点击「Settings」标签
2. 左侧菜单选择「Secrets and variables」→「Actions」
3. 点击「New repository secret」，添加以下密钥：

   | 密钥名称 | 值 | 说明 |
   |---------|----|---------|
   | `ALIYUN_ACCESS_KEY_ID` | 你的AccessKey ID | 阿里云访问密钥 |
   | `ALIYUN_ACCESS_KEY_SECRET` | 你的AccessKey Secret | 阿里云访问密钥 |
   | `ALIYUN_REGION` | cn-hangzhou | 阿里云地域 |
   | `RDS_HOST` | 你的RDS地址 | 数据库地址 |
   | `RDS_PASSWORD` | 你的数据库密码 | 数据库密码 |
   | `OSS_BUCKET` | 你的Bucket名称 | OSS存储桶 |
   | `OSS_ENDPOINT` | oss-cn-hangzhou.aliyuncs.com | OSS访问域名 |

4. 在项目根目录创建 `.github/workflows/deploy.yml` 文件：

```yaml
name: Deploy to Aliyun

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Build project
      run: npm run build
      env:
        VITE_ALIYUN_ACCESS_KEY_ID: ${{ secrets.ALIYUN_ACCESS_KEY_ID }}
        VITE_ALIYUN_ACCESS_KEY_SECRET: ${{ secrets.ALIYUN_ACCESS_KEY_SECRET }}
        VITE_ALIYUN_REGION: ${{ secrets.ALIYUN_REGION }}
        VITE_ALIYUN_RDS_HOST: ${{ secrets.RDS_HOST }}
        VITE_ALIYUN_RDS_PASSWORD: ${{ secrets.RDS_PASSWORD }}
        VITE_ALIYUN_OSS_BUCKET: ${{ secrets.OSS_BUCKET }}
        VITE_ALIYUN_OSS_ENDPOINT: ${{ secrets.OSS_ENDPOINT }}
    
    - name: Deploy to OSS
      run: |
        npm install -g @alicloud/fun
        echo "部署到阿里云OSS"
        # 这里添加具体的部署脚本
```

---

## 🚀 第五步：启动项目

### 5.1 本地开发环境启动
1. 确保所有配置正确
2. 启动开发服务器：
   ```bash
   npm run dev
   ```
3. 打开浏览器访问：http://localhost:5173
4. 如果看到项目界面，说明配置成功！

### 5.2 测试功能
1. 尝试注册新用户
2. 创建第一个项目
3. 添加任务和工作日志
4. 测试文件上传功能

---

## 🔧 常见问题解决

### Q1: 数据库连接失败
**解决方案**：
1. 检查RDS白名单是否包含你的IP
2. 确认数据库用户名密码正确
3. 检查网络连接

### Q2: OSS上传失败
**解决方案**：
1. 确认AccessKey权限正确
2. 检查Bucket名称和地域设置
3. 确认Bucket权限配置

### Q3: GitHub推送失败
**解决方案**：
1. 检查Git用户配置
2. 确认仓库地址正确
3. 可能需要配置SSH密钥或使用Personal Access Token

### Q4: 项目启动报错
**解决方案**：
1. 删除 `node_modules` 文件夹，重新运行 `npm install`
2. 检查Node.js版本是否为18+
3. 确认 `.env` 文件配置正确

---

## 📞 获取帮助

如果遇到问题，可以：
1. 查看项目的GitHub Issues
2. 参考阿里云官方文档
3. 在项目仓库中提交Issue

---

## 🎉 恭喜！

如果你完成了以上所有步骤，你现在拥有了一个完整的个人项目管理系统！

**下一步建议**：
- 熟悉系统各个功能模块
- 根据个人需求定制界面
- 定期备份重要数据
- 关注项目更新和安全补丁

祝你使用愉快！ 🚀