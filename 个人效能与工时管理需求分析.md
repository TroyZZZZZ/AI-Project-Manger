# [个人效能与工时管理] 需求分析与解决方案

## 1. 需求背景与痛点 (Context & Pain Points)
- **背景描述**：
  用户当前需要同时处理多个项目及大量琐碎事务，缺乏统一的记录和量化工具。虽然有项目管理系统，但更偏向于项目维度的宏观管理，缺乏个人维度的微观工时统计与自我激励机制。此外，用户工作性质具有高度不确定性，经常面临“多线程并发”和“突发任务插队”的情况。
- **目标用户**：
  高级产品经理、项目经理、研发人员等需要处理多线程任务并希望提升自我效能的职场人士。
- **核心痛点**：
  1. **时间去向不明**：忙碌一天后，不知道具体时间花在了哪些项目或事务上，无法进行复盘。
  2. **缺乏量化反馈**：工作产出难以量化，无法直观看到自己的努力成果，容易产生疲惫感。
  3. **成就感缺失**：日常琐事（如沟通、会议）占据大量时间，但缺乏类似“打怪升级”的正向反馈机制，难以维持自律和动力。
  4. **任务碎片化与切换成本高**：经常在进行一个任务时被领导临时安排插入新任务，导致原有记录被打断，频繁的手动“停止-新建-开始”操作极大地增加了记录负担。

## 2. 核心目标 (Core Objectives)
- **业务目标**：
  实现“工时数据化”和“效能可视化”，打通从【任务执行】到【工时记录】再到【数据分析】的闭环。
- **用户价值**：
  1. **自律辅助**：通过清晰的时间账单，倒逼用户更专注地利用时间。
  2. **成就激励**：将枯燥的工作转化为可视化的进度和成就，提升工作幸福感。
  3. **决策支持**：基于真实工时数据，优化未来的工作排期和报价策略。
  4. **无感切换**：将任务切换的记录成本降至最低，适应高频中断的工作节奏。

## 3. 解决方案概览 (Solution Overview)
本方案采用 **“流式记录 + 目标驱动 + 快速现场保护”** 的三核模式。
前端提供一个极简的 **“工时登记台”**，除了基础的计时功能外，特别强化 **“任务栈管理”** 能力，支持一键“挂起当前任务并开始新任务”，待新任务结束后可一键“弹栈恢复”旧任务。后端建立 **“效能仪表盘”**，自动将工时数据转化为图表；同时引入 **“微目标成就系统”**，用户可设定每日/每周小目标，达成后给予视觉奖励。

## 4. 功能模块设计 (Functional Modules)

### 4.1 工时登记台 (Work Log Station)
- **功能描述**：
  一个便捷的录入界面，允许用户快速记录在某个项目、某个具体事务上花费的时间，并支持高频的任务切换。
- **关键逻辑**：
  - **数据源管控**：**禁止手填任务名称**。任务必须从现有的【项目故事】、【项目集故事】或【跟进事项】中直接拉取，确保工时记录与实际业务对象强关联。
  - **灵活计时与校准**：
    - 支持“开始/停止”标准计时，**采用实时校准机制**，防止因浏览器后台运行导致的计时偏差。
    - **新增“暂停/继续”功能**：适用于午休、非工作干扰等无需结束任务但需暂停计时的场景。
    - **结束确认与修正**：任务结束后弹出确认框，允许用户**手动微调开始时间和结束时间**，确保记录的精准性。
      - **跟进事项联动**：若当前任务关联了“跟进事项”，提供“标记为完成”选项。
        - 勾选后，可设置**完成时间**（默认当日）和**完成备注**。
        - 系统自动更新对应跟进事项的状态为“已完成”，并将备注同步至跟进记录。
  - **记录调整与维护**：
    - **事后修正**：支持对已生成的工时记录进行再次编辑，包括**修改开始时间、结束时间**（系统自动重新计算工时）和**修改标签**。
    - **记录删除**：允许用户删除错误的工时记录。
  - **补录模式**：支持事后手动补录工时。
  - **事务标签**：提供预设标签（如：开发、会议、设计、沟通、调研），便于分类统计。
  - **一键切换/现场保护**：
    - 当用户正在进行任务A时，若需要插入任务B，只需点击“插入新任务”。
    - 系统自动**暂停**任务A的计时（保留现场），并弹出新窗口创建任务B并立即**开始**计时。
    - 任务B结束后，用户点击“完成”，系统自动提示是否**恢复**任务A。
  - **备注说明**：简短描述具体工作内容。
- **优先级**：P0 (核心基础)

### 4.2 效能仪表盘 (Efficiency Dashboard)
- **功能描述**：
  基于工时数据的可视化统计中心，展示用户的时间分配情况。
- **关键逻辑**：
  - **项目分布图**：饼图展示各个项目的时间占比（例如：项目A 40%，项目B 30%）。
  - **事务热力图**：展示哪类事务消耗时间最多（例如：本周会议耗时 15小时）。
  - **趋势分析**：柱状图展示每日/每周的总工时变化趋势。
  - **碎片化指数**：分析平均任务时长，展示工作被打算的频率（可选）。
- **优先级**：P1 (数据价值外化)

### 4.3 成就小目标 (Micro-Goals System)
- **功能描述**：
  用户自定义的短期目标管理与激励模块。
- **关键逻辑**：
  - **目标设定**：用户设定周期性目标，例如“今日工时满8小时”、“本周阅读文档2小时”。
  - **进度追踪**：系统根据工时记录自动更新目标进度条。
  - **达成奖励**：目标达成时触发视觉特效（如撒花、勋章点亮），并记录在“成就墙”上。
- **优先级**：P1 (提升活跃与成就感)

## 5. 业务流程 (User Flow)

1. **设定目标 (Setup)**
   - 用户周一早上打开系统，在“成就小目标”模块设定本周核心目标（例如：完成X功能开发，投入工时 > 20h）。

2. **日常工作与记录 (Do & Log)**
   - **场景A（实时专注）**：开始工作时，点击“开始计时”，选择项目“赵聪项目管理”，标签“开发”。工作结束点击“停止”，系统自动生成一条工时记录。
   - **场景B（事后补录）**：下班前，打开“工时登记台”，复盘当天工作，手动添加几条记录（例如：上午9-11点，项目A会议）。
   - **场景C（突发中断与切换）**：
     1. 用户正在进行“项目A-文档编写”（已计时 45分钟）。
     2. 领导突然安排“项目B-紧急会议”。
     3. 用户点击“插入新任务”，系统自动暂停“项目A”，弹出新任务框。
     4. 用户选择“项目B”，标签“会议”，点击“开始”。
     5. 30分钟后会议结束，用户点击“结束任务”。
     6. 系统提示“是否恢复‘项目A-文档编写’？”，用户点击“是”。
     7. 系统自动恢复“项目A”的计时状态，用户继续工作。

3. **查看反馈 (Review)**
   - 提交记录后，系统自动更新“今日工时”进度条。
   - 如果达成“今日工时满8小时”目标，界面弹出“今日挑战达成”的祝贺动画。

4. **周期复盘 (Retrospective)**
   - 周末查看“效能仪表盘”，发现本周“会议”占比过高且碎片化严重（平均单次工作时长不足40分钟），决定下周申请集中的“无会议时间”。

## 6. 预期收益与验收标准 (Success Metrics & Acceptance Criteria)
- **预期收益**：
  - 用户能够清晰说出自己每周的时间分配比例。
  - 通过目标达成机制，用户的主动记录频率提升 30% 以上。
  - 在高频中断场景下，用户记录工时的操作负担降低 50%。
- **验收标准**：
  1. **录入效率**：完成一次工时补录的操作时间不超过 30秒。
  2. **切换便捷性**：从“任务A”切换到“任务B”并暂停A的操作步骤不超过 3次点击。
  3. **数据准确性**：仪表盘统计数据与录入数据完全一致，无计算误差。
  4. **激励反馈**：当工时记录满足设定目标条件时，系统必须在 1秒内给出视觉反馈。
